architecture behavior of watchdog is

begin 

CLK_wdg_process : process (Clk)
begin
if (wdg_reset ='0') then
countwdg_act<=0;
elsif (clk'event and clk='1') then
countwdg_act <= countwdg_sig;
end if;
end process;

wdg_process: process(countwdg_act)
begin
if (countwdg_act < half_period) then
	wdg_out <= '1';
else
	wdg_out <='0';
end if;

if (countwdg_act >= period) then
	countwdg_sig <= 0;
else
	countwdg_sig <= countwdg_act+1;
end if;
end process;

end behavior;